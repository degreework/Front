{% extends "foro_parent.html" %}
{% comment %}
	template for create a ask 
{% endcomment %}

{% load staticfiles %}

{% block foro_content %}
	<div class="col-md-12">
		<br><br>
		<div class="col-md-7 col-sm-7 col-xs-7  ">
			<form class="" id="form_ask_foro" hidden>
				<div id="editor"></div>   
				<br>
	      		<button class="btn btn-default pull-right" type="submit" name="action">Crear</button>
	      	</form>
		</div>
		<div class="col-md-4 col-sm-4 col-xs-3 col-sm-offset-1 base ">
			<h4>¿Cómo preguntar?</h4>
			<p>Esto es sobre algoritmia
			Se específico, detalla bien tu duda o inconveniente, la comunidad está para ayudarte y tu eres parte de ella...bla bla bla</p>
		</div>
	</div>

{% endblock foro_content %}

{% block scripts %}

	<script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
<link href="{% static 'libs/bootstrap-markdown-editor/dist/css/bootstrap-markdown-editor.css' %}" rel="stylesheet">
<script src="{% static 'libs/marked/marked.min.js' %}"></script>
<script src="{% static 'libs/bootstrap-markdown-editor/dist/js/bootstrap-markdown-editor.js' %}"></script>

	<script>
		function handle()
		{
			var input_text = $(form_ask_foro).get(0)[1];
			$(input_text).hide()
			$('textarea').keyup(function(e){
				$(input_text).val($('#editor').markdownEditor('content'))
	        });
		}
            jQuery(document).ready(function($) {
            	// ::::FORO ::::
				//form Ask Foro
				form_ask_foro = $("#form_ask_foro");
				create_form(URL_CREATE_ASK_FORO, form_ask_foro, 'OPTIONS', handle);
				
				form_ask_foro.submit(function (e) {
					e.preventDefault();
					create_ask(form_ask_foro, URL_CREATE_ASK_FORO);
				})

				$("#form_ask_foro").show()
				$("#id_text").hide()
                $('#editor').markdownEditor({
                    preview: true,
                    onPreview: function (content, callback) {
                        callback( marked(content) );
                    }
                });

            });
	</script>
{% endblock scripts %}